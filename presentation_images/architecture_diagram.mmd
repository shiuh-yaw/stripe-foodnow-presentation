flowchart TD
    subgraph Consumer["Consumer"]
        C1[Mobile App]
        C2[Web Browser]
    end

    subgraph FoodNow["FoodNow Platform"]
        F1[Order Management]
        F2[User Management]
        F3[Partner Management]
        F4[Payment Processing]
        F5[Subscription Service]
    end

    subgraph Stripe["Stripe Services"]
        S1[Payment Intents API]
        S2[Checkout API]
        S3[Connect API]
        S4[Billing API]
        S5[Issuing API]
        S6[Radar - Fraud Detection]
    end

    subgraph Partners["Partners"]
        R[Restaurants]
        D[Drivers]
    end

    subgraph Banks["Financial Institutions"]
        B1[Issuing Banks]
        B2[Acquiring Banks]
    end

    C1 --> F1
    C2 --> F1
    F1 --> F4
    F4 --> S1
    F4 --> S2
    S1 --> B2
    S2 --> B2
    F3 --> S3
    S3 --> R
    S3 --> D
    F5 --> S4
    S4 --> B2
    S5 --> B1
    F4 --> S6
    S6 --> F4

    classDef consumer fill:#f9d5e5,stroke:#333,stroke-width:1px
    classDef foodnow fill:#eeeeee,stroke:#333,stroke-width:1px
    classDef stripe fill:#6772e5,stroke:#333,stroke-width:1px,color:#fff
    classDef partners fill:#d1f5d3,stroke:#333,stroke-width:1px
    classDef banks fill:#e6e6fa,stroke:#333,stroke-width:1px

    class C1,C2 consumer
    class F1,F2,F3,F4,F5 foodnow
    class S1,S2,S3,S4,S5,S6 stripe
    class R,D partners
    class B1,B2 banks

